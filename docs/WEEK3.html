<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>巫雨洋的学习日记 - 3&nbsp; WEEK3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./WEEK4.html" rel="next">
<link href="./WEEK2.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">WEEK3</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">巫雨洋的学习日记</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">WEEK1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">WEEK2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK3.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">WEEK3</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK4.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">WEEK4</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK5.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">WEEK5</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK6.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">WEEK6</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK7.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">WEEK7</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WEEK8.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">WEEK8</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#key-points" id="toc-key-points" class="nav-link active" data-scroll-target="#key-points"><span class="toc-section-number">3.1</span>  Key Points</a>
  <ul class="collapse">
  <li><a href="#correction" id="toc-correction" class="nav-link" data-scroll-target="#correction"><span class="toc-section-number">3.1.1</span>  Correction</a></li>
  <li><a href="#image-enhancements" id="toc-image-enhancements" class="nav-link" data-scroll-target="#image-enhancements"><span class="toc-section-number">3.1.2</span>  Image Enhancements</a></li>
  <li><a href="#practice-with-r" id="toc-practice-with-r" class="nav-link" data-scroll-target="#practice-with-r"><span class="toc-section-number">3.1.3</span>  Practice with R</a></li>
  </ul></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application"><span class="toc-section-number">3.2</span>  Application</a></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection"><span class="toc-section-number">3.3</span>  Reflection</a></li>
  <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference"><span class="toc-section-number">3.4</span>  Reference</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">WEEK3</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="key-points" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="key-points"><span class="header-section-number">3.1</span> Key Points</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/31.webp" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">sensor and image</figcaption><p></p>
</figure>
</div>
<section id="correction" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="correction"><span class="header-section-number">3.1.1</span> Correction</h3>
<p>Here shows a basic flow of how remote sensing is used in practice, it includes a few steps from data collection. As there are many factors influencing the RS image acquisition like, sensor characteristics, weather (particularly cloud cover), acquisition method (satellite or airborne) and others, remotely sensed images can contain flaws within them. Therefore, to improve image quality as a basis for further analysis, the most common step is carrying out <strong>corrections</strong>.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<p>
</p><pre class="mermaid" data-tooltip-selector="#mermaid-tooltip-1">flowchart LR
  A(Acquisition) --&gt; B(Pre-processing)
  B --&gt; C(Image Analysis)
  C --&gt; D(Products)
  D --&gt; E(Application)

</pre>
<div id="mermaid-tooltip-1" class="mermaidTooltip">

</div>
<p></p>
</div>
</div>
</div>
<p>To talking about this processing chain we can introduce the product levels. And we will summary some main points about each correction.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/32.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">correction and product levels</figcaption><p></p>
</figure>
</div>
<p>These are some website helpful to understand each process,</p>
<p><a href="https://support.micasense.com/hc/en-us/articles/115002327753-The-Importance-of-Radiometric-Calibration">The Importance of Radiometric Calibration</a></p>
<p><a href="https://geolearn.in/geometric-corrections-in-remote-sensing-images/">Geometric Corrections in Remote Sensed Image</a></p>
<p><a href="https://gisgeography.com/atmospheric-correction/">What is Atmospheric Correction in Remote Sensing?</a></p>
<p>and following are some summaries.</p>
<p><strong>Radiometric Calibration</strong></p>
<p>Radiometric Calibration refers to the ability to convert the digital numbers recorded by satellite imaging systems into to spectral radiance, reflectance, or brightness temperatures.</p>
<p>The purpose is to eliminate the error of the sensor itself and determine the accurate radiation value at the entrance of the sensor.</p>
<p>Methods include laboratory calibration, on-board/satellite calibration, and site calibration. Note that different sensors have different radiation calibration formulas.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
How to tell if your imagery is lacking a radiometric workflow:
</div>
</div>
<div class="callout-body-container callout-body">
<p>Without radiometric calibration, you may see the following effects:</p>
<ul>
<li>Underexposed images, especially surrounding bright objects on the landscape</li>
<li>Irregular coloration</li>
<li>Index values, such as NDVI, that appear to change dramatically and unexpectedly near roads or buildings</li>
<li>Extreme banding or patchiness in your mosaic</li>
</ul>
</div>
</div>
<p><strong>Geometric Correction</strong></p>
<ul>
<li>Causes
<ul>
<li>Curvature of the earth<br>
</li>
<li>Topography of the terrain<br>
</li>
<li>Earth rotation<br>
</li>
<li>View angle (off-nadir)<br>
</li>
<li>…</li>
</ul></li>
<li>Correction Steps</li>
</ul>
<p>Acquisition of ground control points (GCP) : Use Ground Control Points (GCP) as a reference point for correct location data</p>
<p>Building a Sensor Model: formulate the relation between the current and the reference location data</p>
<p>Coordinate Transformation: Once a suitable sensor model is defined it can be applied to the image raw data to calculate the corrected coordinates of the pixel locations</p>
<p>Resampling of Pixel Values: The coordinate transformations shifts and rotates the pixel locations. These new locations do not fit into a regular grid of the raster files. Therefore, the pixel values need to be resampled to assign each grid cell one raster values.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
What is a ground control point (GCP)?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ground Control Points (GCPs) are defined as points on the surface of the earth of known location used to geo-reference Landsat Level-1 data. GCPs are updated as needed to continually improve Landsat data. GCPs can be <a href="https://www.usgs.gov/landsat-missions/ground-control-points">downloaded</a> and used as reference data.</p>
</div>
</div>
<ul>
<li>Examining the Accuracy</li>
</ul>
<p>Root mean squared error can be used to measure the difference between locations that are known and locations that have been interpolated or digitized or resampled. <span class="math display">\[\begin{equation}
RMS_{error}=\sqrt{(X^{'}-X_{orig}+Y^{'}-Y_{orig})^2}
\end{equation}\]</span></p>
<p><strong>Atmospheric Correction</strong></p>
<p>removes the scattering and absorption effects from the atmosphere to obtain the surface reflectance characterizing (surface properties)</p>
<ul>
<li>Causes
<ul>
<li>Atmospheric scattering</li>
<li>Atmospheric reflections</li>
<li>Topographic attenuation<br>
</li>
<li>…</li>
</ul></li>
<li>Correction Methods</li>
</ul>
<p>Methods can be divided into 2 types according to the results of the correction:</p>
<table class="table">
<caption>Atmospheric Correction</caption>
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Relative atmospheric correction method</td>
<td>for example the dark object subtraction (DOS), histogram adjustment and psuedo-invariant features (PIFs)</td>
</tr>
<tr class="even">
<td>Absolute atmospheric correction method</td>
<td>there are some transfer models or codes such as MODTRAN 4+ and 6S can be used to deal with scattering and absorption, this is called model-based atmospheric correction methods. We can also use the empirical line correction by take measurements in site using a field spectrometer.</td>
</tr>
</tbody>
</table>
<p><strong>Orthorectification Correction</strong></p>
<p>orthorectification is the process of improving the horizontal accuracy of imagery.</p>
<ul>
<li>Causes
<ul>
<li>Camera and sensor orientation</li>
<li>Topographic relief displacement</li>
<li>Earth curvature<br>
</li>
<li>…</li>
</ul></li>
<li>Correction Methods</li>
</ul>
<p>We can use some orthorectification algorithms to deal with the distortion, also, softerwares like QGSIS and SAGA GIS can be helpful.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Orthorectification vs Georectification
</div>
</div>
<div class="callout-body-container callout-body">
<p>Georectify take an image that has not been adjusted to be in a known coordinate system, and put it into a known coordinate system.</p>
<p>Orthorectify take an image in its original geometry and very accurately adjust it so that it is in a known coordinate system, with distortions due to topographic variation corrected.</p>
</div>
</div>
</section>
<section id="image-enhancements" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="image-enhancements"><span class="header-section-number">3.1.2</span> Image Enhancements</h3>
<blockquote class="blockquote">
<p>Image enhancement algorithms are applied to remotely sensed data to improve the appearance of an image for human visual analysis or occasionally for subsequent machine analysis. There is no such thing as the ideal or best image enhancement because the results are ultimately evaluated by human.</p>
</blockquote>
<p>Image enhancement is attempted after the image is corrected for geometric and radiometric distortion. here we will summarize some of the most popular enhancements techniques.</p>
<p><strong>Contrast Enhancement</strong></p>
<ul>
<li>Why it is needed</li>
</ul>
<p>Most of the satellite images lack adequate contrast with nearly uniform tones of gray.This results in difficulty in interpret the image. Reasons for low contrast of image can be various. For example, the objects may have a nearly uniform electromagnetic response at the wavelength band of energy, scattering of electromagnetic energy by the atmosphere can reduce the contrast of a scene…</p>
<ul>
<li>Principle</li>
</ul>
<p>Contrast enhancement techniquest (also referred to as contrast stretching) expand the range of brightness values in an image so that the image can be efficiently displayed in a manner desired by the analyst.</p>
<ul>
<li>Methods/Examples</li>
</ul>
<p>Contrast enhancement techniques can be divided into 2 categories.</p>
<table class="table">
<caption>Contrast Enhancement</caption>
<thead>
<tr class="header">
<th>Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Linear Contrast Enhancement</td>
<td>including Minimum-Maximum Contrast Stretching, Percentage Linear and Standard Deviation Stretching,Piecewise Linear Contrast Stretching. They differ in the Stretching Function. Like the picture below shows how Minimum-Maximum Contrast Stretching works.</td>
</tr>
<tr class="even">
<td>Nonlinear contrast enhancement stretching</td>
<td>one applied of the most useful enhancements is histogram equalization. In this technique, histogram of the original image is redistributed to produce a uniform population density. The whole process can be a little complex, which can be found here at <a href="https://uotechnology.edu.iq/dep-building/LECTURE/emzaheam/9.IMP%20Lect.9.pdf">Page 8</a></td>
</tr>
</tbody>
</table>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/34.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Linear contrast stretch versus histogram equalization</figcaption><p></p>
</figure>
</div>
<p><strong>Band Ratioing</strong></p>
<ul>
<li>Why it is needed</li>
</ul>
<p>Sometime differences in brightness value from identical surface materials are caused by topographic slope and aspect, shadow, or seasonal change in sun illumination angle and intensity. These conditions may hamper ability of interpreter or classification algorithm to identify correctly surface materials or land use in a remotely sensed image. We can use Band Ratios to enhance the spectral differences between bands and to reduce the effects of topography.</p>
<ul>
<li>Principle</li>
</ul>
<p>Basically, Band Ratioing is about doing band algebra, dividing one spectral band by another produces an image that provides relative band intensities.The ratio is the numerator divided by the denominator</p>
<ul>
<li>Methods/Examples</li>
</ul>
<p>There are many defined indexes show us the way to do band ratioing, such as The Normalised Difference Vegetation Index (NDVI) which is based on the fact that healthy and green vegetation reflects more in the NIR but absorbs in the Red wavelength. <span class="math display">\[\begin{equation}
NDVI=\frac{NIR-Red}{NIR+Red}
\end{equation}\]</span></p>
<p>There are many other ratios, all of which are detailed on the <a href="https://www.indexdatabase.de/">Index Database</a></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/35.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">The sunlight causes the different value of land cover, but the ratio is constant</figcaption><p></p>
</figure>
</div>
<p><strong>Spatial filtering</strong></p>
<blockquote class="blockquote">
<p>A characteristic of remotely sensed image is a parameter called spatial frequency; defined as the number of changes in brightness value per unit distance for any particular part of an image.</p>
</blockquote>
<ul>
<li>Why it is needed</li>
</ul>
<p>Spatial filters serve a variety of purposes, such as detecting edges along a specific direction, contouring patterns, reducing noise, and detail outlining or smoothing. Filters smooth, sharpen, transform, and remove noise from an image so that you can extract the information you need.</p>
<ul>
<li>Principle</li>
</ul>
<p>Spatial filtering applies the idea of convolution, which is an algorithm that consists of recalculating the value of a pixel based on its own pixel value and the pixel values of its neighbors weighted by the coefficients of a convolution kernel. Basically, to acheive Spatial Filtering we firstly decide a window, that is the size of the convolution kernel(3 × 3, 5 × 5…can be either square or rectangular). And according to different types of convolutions:gradient, Laplacian, smoothing, and Gaussian, different convolution kernel contents or the weight will be used to calculated the new value of the central kernel pixel.</p>
<p>From the perspective of mathematical calculation, it is to construct a matrix, multiply the elements of the matrix by the value of the corresponding pixel, and then add up the products as the new value of the central pixel. Like the picture blew illustrates.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/36.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Example of Spatial filtering</figcaption><p></p>
</figure>
</div>
<ul>
<li>Methods/Examples</li>
</ul>
<p>Spatial filters fall into two categories:</p>
<table class="table">
<caption>Spatial filtering</caption>
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Highpass filters</td>
<td>emphasize significant variations of the light intensity usually found at the boundary of objects. Highpass frequency filters help isolate abruptly varying patterns that correspond to sharp edges, details, and noise.</td>
</tr>
<tr class="even">
<td>Lowpass filters</td>
<td>attenuate variations of the light intensity. Lowpass frequency filters help emphasize gradually varying patterns such as objects and the background. They have the tendency to smooth images by eliminating details and blurring edges.</td>
</tr>
</tbody>
</table>
<p>Specific tye of Spatial Filter and its application can be found in <a href="https://www.ni.com/docs/en-US/bundle/ni-vision-concepts-help/page/spatial_filtering.html">here</a></p>
<p>There are also other way to process the image and gain information we needed, like <strong>Texture</strong>, <strong>Data fusion</strong> and <strong>PCA</strong>, here I am trying to use R language to achieved them. In addition, paying special attention on them in the application part.</p>
</section>
<section id="practice-with-r" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="practice-with-r"><span class="header-section-number">3.1.3</span> Practice with R</h3>
<p>Here I will use R to achieve some enhancement methods. Firstly we use <code>pull()</code> to load our raster layers into a stack, then we can easily pick out one of the band.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List your raster files excluding band 8 using the patter argument</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>m1<span class="ot">&lt;-</span><span class="fu">dir_info</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"LC09_L2SP_203023_20220326_20220328_02_T1"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">str_detect</span>(path, <span class="st">"[1B23456790].TIF"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(path) <span class="sc">%&gt;%</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.character</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Load our raster layers into a stack</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">rast</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>referring the equation given above, the NDVI can be calculated quickly,</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>m1_NDVI <span class="ot">&lt;-</span> (m1<span class="sc">$</span>LC09_L2SP_203023_20220326_20220328_02_T1_SR_B5 <span class="sc">-</span> m1<span class="sc">$</span>LC09_L2SP_203023_20220326_20220328_02_T1_SR_B4 ) <span class="sc">/</span> (m1<span class="sc">$</span>LC09_L2SP_203023_20220326_20220328_02_T1_SR_B5 <span class="sc">+</span> m1<span class="sc">$</span>LC09_L2SP_203023_20220326_20220328_02_T1_SR_B4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/NDVI2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure of NDVI &gt;0.2 the high value stands for the healty plant</figcaption><p></p>
</figure>
</div>
<p>and the <a href="https://rdrr.io/cran/glcm/man/glcm.html">glcm</a> package can help us to do the Texture Analysis.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glcm</span>(x, <span class="at">n_grey =</span> <span class="dv">32</span>, <span class="at">window =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">3</span>), <span class="at">shift =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>), <span class="at">statistics =</span> <span class="fu">c</span>(<span class="st">"mean"</span>, <span class="st">"variance"</span>, <span class="st">"homogeneity"</span>, <span class="st">"contrast"</span>, <span class="st">"dissimilarity"</span>, <span class="st">"entropy"</span>, <span class="st">"second_moment"</span>, <span class="st">"correlation"</span>), <span class="at">min_x=</span><span class="cn">NULL</span>, <span class="at">max_x=</span><span class="cn">NULL</span>, <span class="at">na_opt=</span><span class="st">"any"</span>, <span class="at">na_val=</span><span class="cn">NA</span>, <span class="at">scale_factor=</span><span class="dv">1</span>, <span class="at">asinteger=</span><span class="cn">FALSE</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#statistics means a list of GLCM texture measures to calculate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>if we usd the <code>homogeneity</code> measure the results is shown blow</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/homogeneity.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">the homogeneity of the image</figcaption><p></p>
</figure>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Homogeneity texture measure
</div>
</div>
<div class="callout-body-container callout-body">
<p>Homogeneity was a measure of the similarity of pixel values in the neighborhood defined by the processing window, ranging from 0.0 (completely dissimilar) to 1.0 (all cells having equivalent values) <a href="https://doi.org/10.3390/rs61212187">(Lane CR et al.&nbsp;2014)</a></p>
</div>
</div>
<p>the video <a href="https://www.youtube.com/watch?v=g6RwF8J80Gg">Introduction to textural classification in QGIS 3.10</a> shows basic concept of Texture Analysis as well as how to do it in QGIS.</p>
<p>For PCA, <a href="https://rdrr.io/cran/RStoolbox/man/rasterPCA.html">rasterPCA</a> can be helpful to reduce the dimensionality of our data.</p>
</section>
</section>
<section id="application" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="application"><span class="header-section-number">3.2</span> Application</h2>
<p><strong>Texture Analysis in Classification</strong></p>
<p><em>In remote sensing image, texture means the spatial variation of the pixels in an small area. So, it is different from what the image visually looks like. <a href="https://doi.org/10.1080/0143116042000192367">Coburn, C. A., &amp; Roberts, A. C. (2004)</a> pointed out that of all the spatial information that can be extracted from remotely sensed data, texture may be the most useful for segmenting images. Therefore, Texture Analysis can provide information that the visual interpretation cannot. when we are trying to distinguish the geographic entities or the land cover. Here is a example about how texture analysis can be combined with Random Forest technique to accurately differentiate land covers of urban vegetated areas.</em></p>
<p><a href="https://www.mdpi.com/2072-4292/7/1/1074">Feng Q et al.&nbsp;(2015)</a> achieved <strong>urban vegetation mapping</strong> by using UAV Remote Sensing data. Its whole processes include 3 parts:data acquisition and preprocessing;image classification; accuracy analysis. The Random Forest and texture analysis were introduced in the second part.</p>
<p>For the texture analysis, six least correlated texture measures according to <a href="https://doi.org/10.1016/j.jag.2013.01.003">Szantoi Z et al.&nbsp;(2013)</a> were used in the study(mean (MEA), standard deviation (STD), homogeneity (HOM), dissimilarity (DIS), entropy (ENT) and angular second moment (ASM)). Besides, only Green band was used for the texture statistics and they were second-order (co-occurrence) textures.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/37Workflow%20.png" class="img-fluid figure-img" style="width:70.0%"></p>
<p></p><figcaption class="figure-caption">The workflow of the study</figcaption><p></p>
</figure>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
First-Order (Occurrence) and Second-Order (Co-Occurrence)
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>First-order metrics operate on the counts, or occurrences, of the different digital number (DN) values within a kernel. Separate images with different spatial arrangements of the same pixels within a single kernel will yield the same first-order texture value in both kernels.</li>
<li>Second-order (also called co-occurrence) metrics analyze the relationship between pixel pairs. They use a co-occurrence matrix to calculate texture values. This matrix is a function of both the angular relationship and distance between two neighboring pixels. It shows the number of occurrences of the relationship between a pixel and its specified neighbor.</li>
</ul>
<p>find more at <a href="https://www.l3harrisgeospatial.com/docs/backgroundtexturemetrics.html#First-Or">Texture Metrics Background</a></p>
</div>
</div>
<p>Here, we skip the steps the author calculated the textures, just remember that 9 texture window sizes were chosen and <strong>texture features derived at different window sizes were added separately as additional ancillary bands to the RGB images for further classification.</strong></p>
<p>We will not talk about Random Forest too much here, it is a supervised classification and the UAV orthophotos and ancillary texture features were inputs.</p>
<p>Here is the figure in the paper which shows 2 original RGB images. According to field survey and the aim of the project, three vegetated land covers were chosen as follows: grass, trees and shrubs</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/39original.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">The original RGB images</figcaption><p></p>
</figure>
</div>
<p>And here is the results of classification. For the picture below, the <em>GRB-only</em> means only used GRB bands as inputs while the <em>RGB+GT31</em> means the texture metrics with the moving windows 31 × 31 (GT31) included. So, this figure <strong>depicts the differences before and after the inclusion of texture features</strong>. We can easily see that both Image-A and Image-B show some “salt and pepper” effects.And the inclusion of texture improves the classification accuracy from a visual point of view. This is because <strong>the inclusion of texture increases the between-class separability and tends to remove small isolated groups of pixels</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/38classification.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">The classification results.(a) Image-A RGB-only; (b) Image-A RGB+GT31; (c) Image-B RGB-only; (d) Image-B RGB+GT31</figcaption><p></p>
</figure>
</div>
<p>In addition, if looking at the details, we can see that some part of the area with tree, grass and bare soil come together, some pixels are <strong>misclassified</strong> in RGB-only classification. This may due to <strong>tree, dead shrubs and bare soil share similar colors</strong>. But these misclassifications can be improved after the inclusion of six texture features at window size 31.</p>
<p>In conclusion, this study manifests that the including of texture features can increase the classification accuracy when differentiating land covers of urban vegetated areas. It also shows us the impact of texture window size on classification accuracy, which turns out has an inverted U relationship.</p>
<p><em>However, personally speaking, I think there are still some points that the author hasn’t provided enough information. For example, why the Second-order metrics was chosen here instead of the First-Order one? Will there be any difference of the classification results if we use the latter? In addition, I am not very sure about why the experiment used 6 texture measures. Does the contribution of these texture measures to the classification make a difference?</em></p>
</section>
<section id="reflection" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="reflection"><span class="header-section-number">3.3</span> Reflection</h2>
<ul>
<li><p>As can be seen from the flow chart and product levels diagram in 3.1.1, there is still a long data processing process between the creation of a remote sensing image by the sensor and the use of it to solve practical problems. This shows that remote sensing is not equal to <em>taking a picture of the ground in a very distant place</em>. The study of correction has deepened my understanding of electromagnetic radiation and the influence of different factors on radiation. From the perspective of problem solving, it allows us to clearly understand what happens to different radiations from generation to acceptance by the sensor. For example, Radiometric Calibration means that the sensor itself may have errors, Geometric Correction shows the influence of topography of the terrain on the image, and Atmospheric Correction shows the weakening and scattering by the atmosphere in the entire electromagnetic wave radiation process.</p></li>
<li><p>Images are a way of expressing information, and remote sensing images are no exception. For ordinary images, we can use the components of the image space for interpretation, that is, interpretation based on vision. For example, vegetation is green and water is blue. Therefore, on the one hand, the contrast enhancement of remote sensing images can expand the difference between pixel value of objects, which is very beneficial to image interpretation. In many cases, we will adjust the histogram to highlight the features we want to observe. In addition, the segmented gray-scale stretching can target the dark and bright parts of the image to suppress low-frequency parts or enhance high-frequency parts as you decide.</p></li>
<li><p>However, the land use distribution of real scenes is often complex, and when the surface area of the image cover is large, it is difficult to distinguish geographical entities only by the difference in hue. The misclassified situation will happen especially in complex terrain (such as mountainous terrain). At this time, the importance of spatial structure information is highlighted. Image texture is useful for the separation of different categories of regions, which is related to the visual perception of roughness or smoothness of image features. A large number of studies have shown that adding texture information as a band to image classification is conducive to improving the accuracy of the classification structure. This reflects the advantage of image enhancement processing, that is, the ability to obtain spatial information.</p></li>
<li><p>Furthermore, in the actual process, some difficulties may be encountered in image enhancement processing. For example, when the image quality is not good, some noise may also be enhanced. So this is like a double-edged sword. When using an enhancement algorithm, you should consider distinguishing between useful information and noise in the image. <a href="10.1109/IGARSS.2001.977981">Ali et al.&nbsp;(2001)</a> pointed out that for noisy remote sensing images, different edge detection operators detect different edge maps. Some of these algorithms do not perform well. This means that we need to be careful when doing image enhancement, otherwise we may go the wrong way。</p></li>
</ul>
</section>
<section id="reference" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="reference"><span class="header-section-number">3.4</span> Reference</h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Feng, Q., Liu, J., &amp; Gong, J. (2015). UAV remote sensing for urban vegetation mapping using random forest and texture analysis. <em>Remote sensing</em>, 7(1), 1074-1094.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Coburn, C. A., &amp; Roberts, A. C. (2004). A multiscale texture analysis procedure for improved forest stand classification. <em>International journal of remote sensing</em>, 25(20), 4287-4308.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Szantoi, Z., Escobedo, F., Abd-Elrahman, A., Smith, S., &amp; Pearlstine, L. (2013). Analyzing fine-scale wetland composition using high resolution imagery and texture features. International <em>Journal of Applied Earth Observation and Geoinformation</em>, 23, 204-212.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lane, C. R., Liu, H., Autrey, B. C., Anenkhonov, O. A., Chepinoga, V. V., &amp; Wu, Q. (2014). Improved wetland classification using eight-band high resolution satellite imagery and a hybrid approach. <em>Remote sensing</em>, 6(12), 12187-12216.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ali, M., &amp; Clausi, D. (2001). Using the Canny edge detector for feature extraction and enhancement of remote sensing images. <em>IEEE International Symposium on Geoscience and Remote Sensing (IGARSS)</em>, 5, 2298-2300.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./WEEK2.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">WEEK2</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./WEEK4.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">WEEK4</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>